{"version":3,"sources":["components/moonsheet/helper.js","components/moonsheet/OneItem.js","components/moonsheet/ShortList.js","components/moonsheet/SheetItems.js","components/moonsheet/FilterPanel.js","lib/api.js","components/MoonSheet.js","App.js","registerServiceWorker.js","index.js"],"names":["Helper","shortNum","n","numeral","format","qty","price","fallbackInfo","cost","this","singleCost","count","reactionProfit","profit","isUnref","refinery_type","escapeRegexCharacters","str","replace","const","debounceTimeout","debounceScrollTimeout","cycles","val","name","AutocompleteMinCharacters","length","toHHMMSS","sec","secNum","parseInt","days","Math","floor","stringDay","hours","minutes","seconds","uuid","len","text","possible","i","charAt","random","manufactureQty","components","me","fme","run","portion","map","v","orig_qty","ceil","getKeys","arr","keyInArray","getAttribute","result","each","attr","indexOf","push","sort","OneItem","props","item","prices","price_input_type","price_output_type","getProfit","getProfitFunc","refineryType","efficiency","reactions","hundredRuns","price_input","price_output","eff","inputItemsSum","inputItems","inputs","effQuantity","quantity","inputCost","id","list","reaction","find","startsWith","outputValue","componentProfit","title","className","alt","src","outputCost","refinedOutputs","forEach","outputAmount","trunc","typeId","percColor","outputValueLifeblood","style","paddingLeft","paddingRight","width","textAlign","marginRight","colSpan","ShortList","includeFuel","inputAmount","console","error","runs","getUnrefProfit","refOutputItem","amount","sortCalcFunc","SheetItems","Object","keys","a","b","diffA","sortedReactionsIds","filter","listType","resultList","matchedOutput","lcName","input","sheetTitle","renderHeader","sortedReactions","sortReactions","getReactionsList","React","Component","ClearIcon","isVisible","onClick","handleClick","xmlns","height","viewBox","fill","fillRule","d","FilterPanel","state","value","makeFilter","e","setState","target","toLowerCase","onFilter","clearFilter","isOpened","placeholder","onChange","fontSize","ITEMS","join","require","stubPrices","MoonSheet","handleFilter","filterValue","toggleEfficiency","localStorage","setItem","JSON","stringify","toggleRuns","makeSingleRun","makeHundredRuns","toggleListType","event","toggleRefineryType","priceStorage","isPricesNeedUpdate","parse","getItem","makeLowerCaseNames","updatePrices","timeStr","time","Date","getTime","now","axios","get","headers","then","data","buy","sell","forQuery","types","fivePercent","max","log","min","effStr","filterOpened","Panel","bsClass","ToggleButtonGroup","bsSize","type","bsStyle","defaultValue","ToggleButton","Button","active","SearchIcon","opacity","App","toggleFilter","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.590c4b8c.chunk.js","sourcesContent":["import numeral from \"numeral\";\nimport { map, ceil, each } from \"lodash\";\n\nlet Helper = {\n  shortNum(n) {\n    return numeral(n).format(\"0.[00]a\");\n  },\n\n  qty(n) {\n    return numeral(n).format(\"0,0\");\n  },\n\n  price(n, fallbackInfo) {\n    if (fallbackInfo) {\n      const cost = this.price(n || fallbackInfo.cost)\n      const singleCost = this.price((n || fallbackInfo.cost) / fallbackInfo.count)\n      return `${cost} (${singleCost})`\n    }\n\n    if (n > 1000000) {\n      return numeral(n).format(\"0,0.000a\");\n    }\n    return numeral(n).format(\"0,0.0a\");\n  },\n\n  reactionProfit(profit, isUnref, refinery_type) {\n    if (refinery_type === 'athanor') {\n      return profit * (isUnref ? 60.0/225.0 : 60.0/113.0) // athanor - (360||180)*0.8*0.78\n    } else {\n      return profit * (isUnref ? 60.0/169.0 : 60.0/85.0) // tatara - (360||180)*0.8*0.78*0.75\n    }\n  },\n\n  escapeRegexCharacters(str) {\n    return str.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n  },\n\n  const: {\n    debounceTimeout: 350,\n    debounceScrollTimeout: 750,\n    cycles: [\n      {\n        val: -1,\n        name: \"1 cycle\"\n      },\n      {\n        val: 1,\n        name: \"1 day\"\n      },\n      {\n        val: 14,\n        name: \"14 days\"\n      },\n      {\n        val: 30,\n        name: \"1 month\"\n      }\n    ]\n  },\n\n  /**\n   * @return {boolean}\n   */\n  AutocompleteMinCharacters(str) {\n    return str.length >= 2;\n  },\n\n  toHHMMSS(sec) {\n    let secNum = parseInt(sec, 10);\n\n    let days = Math.floor(secNum / 86400);\n    let stringDay = \"\";\n\n    if (days > 1) {\n      secNum -= days * 86400;\n    }\n\n    let hours = Math.floor(secNum / 3600);\n    let minutes = Math.floor((secNum - hours * 3600) / 60);\n    let seconds = secNum - hours * 3600 - minutes * 60;\n\n    if (days > 1) {\n      stringDay = days + \"d \";\n    }\n\n    if (hours < 10) {\n      hours = \"0\" + hours;\n    }\n    if (minutes < 10) {\n      minutes = \"0\" + minutes;\n    }\n    if (seconds < 10) {\n      seconds = \"0\" + seconds;\n    }\n    return stringDay + hours + \":\" + minutes + \":\" + seconds;\n  },\n  uuid(len = 2) {\n    let text = \"\";\n    let possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n    for (let i = 0; i < len; i++)\n      text += possible.charAt(Math.floor(Math.random() * possible.length));\n    return text;\n  },\n\n  manufactureQty(components, me = 0, fme = 1, run = 1, portion = 1) {\n    map(components, v => {\n      v[\"qty\"] = v.orig_qty === 1\n        ? run\n        : ceil(ceil(v.orig_qty * ((100 - me) / 100) * fme * run) / portion);\n    });\n    return components;\n  },\n\n  getKeys(arr, keyInArray, getAttribute) {\n    let result = [];\n    each(arr, v => {\n      each(v[keyInArray], attr => {\n        if (result.indexOf(attr[getAttribute]) === -1) {\n          result.push(attr[getAttribute]);\n        }\n      });\n    });\n    return result.sort();\n  }\n};\n\nexport default Helper;\n","import React from \"react\"\nimport { map, find, startsWith } from \"lodash\"\nimport Helper from \"./helper\"\n\nimport refinedOutputs from './refinedOutputs.json'\nimport './OneItem.css'\n\nconst ReprocessRatio = 0.52\nconst ScrapmetalSkill = 1.1\n\n\nconst getReaction = (name, list) => find(list, { name: name })\n\n\nconst OneItem = (props) => {\n  const {\n    item,\n    prices,\n    price_input_type,\n    price_output_type,\n    getProfit,\n    getProfitFunc,\n    isUnref,\n    refineryType,\n    efficiency,\n    reactions,\n    hundredRuns,\n  } = props\n  const price_input = prices[price_input_type]\n  const price_output = prices[price_output_type]\n  const eff = efficiency ? 0.978 : 1\n\n  let inputItemsSum = 0\n  const inputItems = map(item.inputs, (v, i) => {\n    const effQuantity = Math.ceil(v.quantity * eff)\n    const inputCost = effQuantity * price_input[v.id]\n    inputItemsSum += inputCost\n\n    // components profit\n    const reaction = getReaction(v.name, reactions)\n    if (reaction) {\n      var isUnref = startsWith(v.name, 'Unref')\n      var profit = getProfitFunc(isUnref)(reaction, props)\n      var outputValue = Helper.price(profit)\n      // var percColor = profit >= 0 ? \"txt-yellow\" : \"profit-minus\"\n      // Lifeblood Athanor\n      var reactionProfit = Helper.reactionProfit(profit / (hundredRuns ? 100 : 1), isUnref, refineryType)\n      var componentProfit = Helper.price(reactionProfit)\n    }\n\n    // const title = `${v.name} ${effQuantity} x ${Helper.price(price_input[v.id])} isk`\n    const title = `${v.name} x ${effQuantity}`\n\n    return (\n      <div className=\"row\" key={v.name}>\n        <div className=\"col-md-12 col-sm-12 col-xs-12 flex-between\">\n          <span className=\"item-title-cell\">\n            {/*<img className=\"img16 pen\" alt={v.name} src={`https://image.eveonline.com/Type/${v.id}_32.png`} />*/}\n            <img\n              className=\"img16 pen\"\n              alt='' // {v.name}\n              src={`https://img.evetools.org/sdeimages/types/${v.id}/icon?size=32`}\n            />\n            <span>{title}</span>\n          </span>\n          <span className=\"item-cell\">{outputValue}</span>\n          <span className=\"item-cell\">{componentProfit}</span>\n          <span className=\"item-cell\">{Helper.price(inputCost)}</span>\n        </div>\n      </div>\n    )\n  })\n\n  let outputCost = 0\n  if (isUnref) {\n    const outputs = refinedOutputs[item.id]\n    outputs.forEach(item => {\n      const outputAmount = Math.trunc(item.quantity * ReprocessRatio * ScrapmetalSkill)\n      outputCost += (prices[price_output_type][item.typeId] * outputAmount)\n    })\n  } else if (!price_output[item.id]) {\n    outputCost = null\n    // console.log('inputItemsSum:', inputItemsSum)\n  } else {\n    outputCost = price_output[item.id] * item.quantity\n  }\n\n  const profit = getProfit(item, props)\n  const outputValue = Helper.price(profit)\n  const percColor = profit >= 0 ? \"txt-yellow\" : \"profit-minus\"\n  // Lifeblood Athanor\n  const reactionProfit = Helper.reactionProfit(profit / (hundredRuns ? 100 : 1), isUnref, refineryType)\n  const outputValueLifeblood = Helper.price(reactionProfit)\n\n  return (\n    <div className=\"row\" style={{ paddingLeft: 0, paddingRight: 0 }}>\n      <div className=\"col-md-12\" style={{ paddingLeft: 0, paddingRight: 0 }}>\n        <table className=\"inside\">\n          <thead>\n          <tr>\n            <th>\n              <div className=\"item-output\">\n                <div className=\"header-title\">\n                  <div style={{ width: 'auto' }}>\n                    <img\n                      className=\"img16 pen\"\n                      alt='' // {item.name}\n                      //src={`https://image.eveonline.com/Type/${item.id}_32.png`}\n                      src={`https://img.evetools.org/sdeimages/types/${item.id}/icon?size=32`}\n                    />\n                  </div>\n                  <div style={{ width: '100%', textAlign: 'left' }}>\n                    {`${item.name} x ${item.quantity}`}{/* ${item.id}: */}\n                  </div>\n                </div>\n                <div className={percColor}>\n                  {outputValue}\n                </div>\n                <div className={percColor}>\n                  {outputValueLifeblood}\n                </div>\n                <div className=\"txt-normal\" style={{ marginRight: 6 }}>\n                  {Helper.price(outputCost, { cost: inputItemsSum, count: item.quantity })}\n                </div>\n              </div>\n            </th>\n          </tr>\n          </thead>\n          <tbody>\n          <tr>\n            <td colSpan=\"2\" className=\"inside-table\">\n              {inputItems}\n            </td>\n          </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  )\n}\n\nexport default OneItem\n","import React from \"react\";\nimport Helper from \"./helper\";\n\nimport './ShortList.css'\n\n\nconst ShortList = (props) => {\n  const { item, getProfit, isUnref, refineryType, hundredRuns } = props\n  const profit = getProfit(item, props)\n  const outputValue = Helper.price(profit)\n  const percColor = profit >= 0 ? \"txt-yellow b\" : \"profit-minus\"\n\n  const reactionProfit = Helper.reactionProfit(profit / (hundredRuns ? 100 : 1), isUnref, refineryType)\n  const outputValueLifeblood = Helper.price(reactionProfit)\n\n  // const title = `${item.id}: ${item.name}`\n  const title = `${item.name}`\n\n  return (\n    <div key={item.id} className=\"row\">\n      <div className=\"col-md-12 col-sm-12 col-xs-12 flex-between item-output-short\">\n        <div>\n          <img\n            className=\"img16 pen\"\n            alt='' // {title}\n            //src={`https://image.eveonline.com/Type/${item.id}_32.png`}\n            src={`https://img.evetools.org/sdeimages/types/${item.id}/icon?size=32`}\n          />\n          {title}\n        </div>\n        <div className={percColor}>\n          {outputValue}\n        </div>\n        <div className={percColor}>\n          {outputValueLifeblood}\n        </div>\n      </div>\n    </div>\n  )\n};\n\nexport default ShortList\n","import React from 'react'\nimport { map, startsWith } from 'lodash'\nimport Helper from \"./helper\"\nimport OneItem from './OneItem'\nimport refinedOutputs from './refinedOutputs.json'\n\n// components\nimport ShortList from './ShortList'\n\nconst ReprocessRatio = 0.50\nconst ScrapmetalSkill = 1.1\nconst ApproximateFuelCost = 90000\n\nconst getProfit = (item, props) => {\n  const { price_input_type, price_output_type, prices, efficiency, includeFuel, hundredRuns } = props\n  let inputAmount = 0\n  if (!item.inputs) {\n    // debugger\n    console.error('error item:', item)\n  }\n  const eff = efficiency ? 0.978 : 1\n  const runs = hundredRuns ? 100 : 1\n  item.inputs.forEach((v, i) => {\n    inputAmount += Math.ceil((v.quantity * prices[price_input_type][v.id] * 100 * eff) / 100)\n  })\n  let amount = item.quantity * prices[price_output_type][item.id]\n  const fuelCost = includeFuel ? ApproximateFuelCost : 0\n  const profit = amount - inputAmount\n  return profit - (fuelCost * runs)\n}\n\nconst getUnrefProfit = (item, props) => {\n  const { price_input_type, price_output_type, prices, efficiency, includeFuel, hundredRuns } = props\n  let inputAmount = 0\n  const eff = efficiency ? 0.978 : 1\n  const runs = hundredRuns ? 100 : 1\n  item.inputs.forEach(v => {\n    inputAmount += Math.ceil((v.quantity * prices[price_input_type][v.id] * 100 * eff) / 100)\n  })\n  let outputAmount = 0\n  const outputs = refinedOutputs[item.id]\n  outputs.forEach(refOutputItem => {\n    const amount = Math.trunc(runs * refOutputItem.quantity * ReprocessRatio * ScrapmetalSkill)\n    outputAmount += prices[price_output_type][refOutputItem.typeId] * amount\n  })\n  const fuelCost = includeFuel ? ApproximateFuelCost : 0\n  const profit = outputAmount - inputAmount\n  return profit - (fuelCost * runs)\n}\n\nconst sortCalcFunc = (typeId, reactions, props) => {\n  const item = reactions[typeId]\n  const isUnref = startsWith(item.name, 'Unref')\n  const profit = isUnref ? getUnrefProfit(item, props) : getProfit(item, props)\n  return Helper.reactionProfit(profit, isUnref, props.refinery_type)\n}\n\n\nclass SheetItems extends React.Component {\n\n  sortReactions(reactions) {\n    return Object.keys(reactions).sort((a, b) => {\n      const diffA = sortCalcFunc(a, reactions, this.props)\n      const diffB = sortCalcFunc(b, reactions, this.props)\n      // console.log(diffB - diffA, diffB, diffA)\n      return diffB - diffA\n    })\n  }\n\n  getReactionsList(sortedReactionsIds, reactions) {\n    const {\n      filter, price_input_type, price_output_type,\n      prices, listType, refineryType, efficiency,\n      hundredRuns, includeFuel,\n    } = this.props\n    if (reactions.length === 0) {\n      return null\n    }\n\n    const resultList = map(sortedReactionsIds, typeId => {\n      const item = reactions[typeId]\n\n      // New Reactions\n      // if (typeId < 57490) {\n      //   return null\n      // }\n\n      if (filter) {\n        const matchedOutput = item.lcName.indexOf(filter) >= 0\n        if (listType === 'short' && !matchedOutput) {\n          return null\n        }\n        const matchedInputs = item.inputs.find(input => input.lcName.indexOf(filter) >= 0)\n        if (!matchedInputs && !matchedOutput) {\n          return null\n        }\n      }\n\n      const isUnref = startsWith(item.name, 'Unref')\n\n      // Without unref\n      // if (!isUnref) return null\n\n      if (listType === 'full')\n        return (\n          <OneItem\n            key={typeId}\n            item={item}\n            refineryType={refineryType}\n            isUnref={isUnref}\n            getProfit={isUnref ? getUnrefProfit : getProfit}\n            getProfitFunc={isUnref => isUnref ? getUnrefProfit : getProfit}\n            prices={prices}\n            reactions={reactions}\n            price_input_type={price_input_type}\n            price_output_type={price_output_type}\n            efficiency={efficiency}\n            hundredRuns={hundredRuns}\n            includeFuel={includeFuel}\n          />\n        )\n      else\n        return (\n          <ShortList\n            key={typeId}\n            item={item}\n            refineryType={refineryType}\n            isUnref={isUnref}\n            getProfit={isUnref ? getUnrefProfit : getProfit}\n            prices={prices}\n            price_input_type={price_input_type}\n            price_output_type={price_output_type}\n            efficiency={efficiency}\n            hundredRuns={hundredRuns}\n            includeFuel={includeFuel}\n          />\n        )\n    })\n\n\n    // console.log('reactions:', reactions)\n    const sheetTitle = this.renderHeader(listType)\n\n    return (\n      <div className=\"row\">\n        <div className=\"col-md-12\">\n          <table className=\"inside\">\n            <thead>\n            <tr>\n              <th>{sheetTitle}</th>\n            </tr>\n            </thead>\n            <tbody>\n            <tr>\n              <td colSpan=\"2\" className=\"inside-table\">\n                {resultList}\n              </td>\n            </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    )\n  }\n\n  renderHeader(listType) {\n    if (listType === 'full') {\n      return (\n        <div className=\"item-output-short header\">\n          <div>Output & Inputs</div>\n          <div>Profit per Cycle</div>\n          <div>Profit per Hour</div>\n          <div>Output Cost</div>\n        </div>\n      )\n    }\n    return (\n      <div className=\"col-md-12 col-sm-12 col-xs-12 flex-between item-output-short header\">\n        <div>Output</div>\n        <div>Profit per Cycle</div>\n        <div>Profit per Hour</div>\n      </div>\n    )\n  }\n\n  render() {\n    const { reactions, prices } = this.props\n    if (!prices) return null\n    const sortedReactions = this.sortReactions(reactions)\n    return this.getReactionsList(sortedReactions, reactions)\n  }\n}\n\n// export default connect(state => state.moonSheetReducer, {})(SheetItems)\nexport default SheetItems\n","import React from \"react\"\nimport './FilterPanel.css'\n\n\nconst ClearIcon = props => {\n  const className = props.isVisible\n    ? \"clearIcon\"\n    : \"clearIcon hidden\"\n  return (\n    <svg\n      className={className} onClick={props.handleClick}\n      xmlns=\"http://www.w3.org/2000/svg\" width=\"30\" height=\"30\" viewBox=\"878 982 30 30\"\n    >\n      <path fill=\"#D8D8D8\" fillRule=\"evenodd\" d=\"M893 1012c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15zm5.543-18.328a1.573 1.573 0 0 0-.005-2.21 1.559 1.559 0 0 0-2.21-.005L893 994.785l-3.328-3.328a1.573 1.573 0 0 0-2.21.005 1.559 1.559 0 0 0-.005 2.21l3.328 3.328-3.328 3.328a1.573 1.573 0 0 0 .005 2.21 1.559 1.559 0 0 0 2.21.005l3.328-3.328 3.328 3.328a1.573 1.573 0 0 0 2.21-.005 1.559 1.559 0 0 0 .005-2.21L895.215 997l3.328-3.328z\"/>\n    </svg>\n  )\n}\n\n\nexport default class FilterPanel extends React.Component {\n  state = {\n    value: '',\n  }\n\n  makeFilter = e => {\n    this.setState(\n      { value: e.target.value.toLowerCase() },\n      () => this.props.onFilter(this.state.value),\n    )\n  }\n\n  clearFilter = () => {\n    this.setState({ value: '' })\n    this.props.onFilter()\n  }\n\n  render() {\n    const { isOpened } = this.props\n    if (!isOpened) return null\n\n    const { value } = this.state\n\n    return (\n      <div className=\"row\">\n        <div className=\"col-md-12\">\n          <div className=\"panel-content\">\n            <input\n              placeholder=\"Filter materials\"\n              onChange={this.makeFilter}\n              className=\"input-search\"\n              style={{ fontSize: '1.5em' }}\n              value={value}\n            />\n            <ClearIcon isVisible={value} handleClick={this.clearFilter} />\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import axios from 'axios'\n\n// const baseUrl = 'http://api.eve-prod.xyz'\n// const esiUrl = 'https://esi.tech.ccp.is'\n// const crestUrl = 'https://crest-tq.eveonline.com'\n// const marketUrl = 'https://api.evemarketer.com/ec/marketstat/json?regionlimit=10000002&typeid=' // The Forge\nconst marketUrl = 'https://api.evemarketer.com/ec/marketstat/json?usesystem=30000142&typeid=' // Jita\n\nconst MOONMAT_ITEMS = [\n  16633,16634,16635,16636,16637,16638,16639,16640,16641,16642,16643,16644,16646,16647,16648,\n  16649,16650,16651,16652,16653,16654,16655,16656,16657,16658,16659,16660,16661,16662,16663,\n  16664,16665,16666,16667,16668,16669,16670,16671,16672,16673,16678,16679,16680,16681,16682,\n  16683,17317,17769,17959,17960,33336,33337,33359,33360,33361,33362,\n  4312, // Oxygen Fuel Block\n  4051, // Nitrogen Fuel Block\n  4246, // Hydrogen Fuel Block\n  4247, // Helium Fuel Block\n]\nconst ITEMS = MOONMAT_ITEMS.join(',')\n\n\nexport const getMoonmatPrices = () => {\n  return axios.get(\n    marketUrl + ITEMS,\n    { headers: { 'Access-Control-Allow-Origin': '*' } },\n  )\n}\n","import React, { Component } from 'react'\nimport { forEach } from 'lodash'\nimport { Panel, Button, ToggleButton, ToggleButtonGroup } from 'react-bootstrap'\n// import CompositeSheet from './CompositeSheet'\nimport SheetItems from './moonsheet/SheetItems'\nimport FilterPanel from './moonsheet/FilterPanel'\nimport { getMoonmatPrices } from '../lib/api'\n\nconst reactions = require('./reactions.json')\nconst stubPrices = require('./stub-prices.json')\n\nconst CACHE_TIME = 3 * 60 * 60 * 1000 // 3 hours\n// const CACHE_TIME = 10 * 24 * 60 * 60 * 1000 // 10 days\n\n\nclass MoonSheet extends Component {\n\n  constructor() {\n    super()\n\n    let priceStorage = null\n    if (!this.isPricesNeedUpdate()) {\n      priceStorage = JSON.parse(localStorage.getItem('prices'))\n    }\n\n    this.state = {\n      prices: priceStorage || stubPrices,\n      listType: localStorage.getItem('listType') || 'full',\n      refineryType: localStorage.getItem('refineryType') || 'athanor',\n      efficiency: localStorage.getItem('efficiency') === 'false' ? false : true,\n      hundredRuns: JSON.parse(localStorage.getItem('hundredRuns')) || false,\n    }\n    if (this.state.hundredRuns) {\n      this.makeHundredRuns()\n    }\n  }\n\n  componentDidMount() {\n    this.makeLowerCaseNames()\n    if (!this.state.prices || this.isPricesNeedUpdate()) {\n      this.updatePrices()\n    }\n  }\n\n  isPricesNeedUpdate() {\n    const timeStr = localStorage.getItem('pricesTime')\n    if (timeStr) {\n      const time = (new Date(timeStr)).getTime()\n      const now = (new Date()).getTime()\n      if (time && (now - time < CACHE_TIME)) {\n        return false\n      }\n    }\n    return true\n  }\n\n  updatePrices() {\n    getMoonmatPrices().then(({ data }) => {\n      const buy = {}\n      const sell = {}\n      data.forEach(item => {\n        const typeId = item.buy.forQuery.types[0]\n        // buy[typeId] = item.buy.max\n        // sell[typeId] = item.sell.min\n        buy[typeId] = item.buy.fivePercent\n        sell[typeId] = item.sell.fivePercent\n        if (!item.buy.max) {\n          console.log('zero buy:', item)\n        }\n        if (!item.sell.min) {\n          console.log('zero sell:', item)\n        }\n      })\n\n      const prices = { sell, buy }\n      this.setState({ prices })\n      localStorage.setItem('prices', JSON.stringify({ ...prices }))\n      localStorage.setItem('pricesTime', new Date())\n    })\n  }\n\n  makeSingleRun() {\n    forEach(reactions, item => {\n      item.quantity = item.quantity / 100\n      item.inputs.forEach(input => input.quantity = input.quantity / 100)\n    })\n  }\n\n  makeHundredRuns() {\n    forEach(reactions, item => {\n      item.quantity = item.quantity * 100\n      item.inputs.forEach(input => input.quantity = input.quantity * 100)\n    })\n  }\n\n  makeLowerCaseNames() {\n    forEach(reactions, item => {\n      item.lcName = item.name.toLowerCase()\n      item.inputs.forEach(input => input.lcName = input.name.toLowerCase())\n    })\n  }\n\n  handleFilter = filterValue => {\n    this.setState({ filterValue })\n  }\n\n  toggleEfficiency = () => {\n    const { efficiency } = this.state\n    this.setState({ efficiency: !efficiency })\n    localStorage.setItem('efficiency', JSON.stringify(!efficiency))\n  }\n\n  toggleRuns = () => {\n    const { hundredRuns } = this.state\n    this.setState({ hundredRuns: !hundredRuns })\n    localStorage.setItem('hundredRuns', JSON.stringify(!hundredRuns))\n    hundredRuns ? this.makeSingleRun() : this.makeHundredRuns()\n  }\n\n  toggleListType = event => {\n    const listType = event.target.value\n    if (listType) {\n      this.setState({ listType }, localStorage.setItem('listType', listType))\n    }\n  }\n\n  toggleRefineryType = event => {\n    const refineryType = event.target.value\n    if (refineryType) {\n      this.setState({ refineryType }, localStorage.setItem('refineryType', refineryType))\n    }\n  }\n\n  render() {\n    const { listType, refineryType, efficiency, filterValue, hundredRuns } = this.state\n    const effStr = efficiency ? '2.2% ME' : '0% ME'\n    return (\n      <div className='sheet-root'>\n        <div className='row'>\n          <FilterPanel\n            isOpened={this.props.filterOpened}\n            onFilter={this.handleFilter}\n          />\n          <div className='col-md-4 t-a_l col-first'>\n            <Panel bsClass=\"control-panel\">\n              <ToggleButtonGroup\n                bsSize='small' type='radio' bsStyle='primary'\n                name='listType' defaultValue={listType}\n              >\n                <ToggleButton bsStyle='primary' value='full' onClick={this.toggleListType}>{'Full'}</ToggleButton>\n                <ToggleButton bsStyle='primary' value='short' onClick={this.toggleListType}>{'Short'}</ToggleButton>\n              </ToggleButtonGroup>\n              <ToggleButtonGroup\n                bsSize='small' type='radio' bsStyle='primary'\n                name='refineryType' defaultValue={refineryType}\n              >\n                <ToggleButton value='athanor' onClick={this.toggleRefineryType} style={{ paddingLeft: 4, paddingRight: 4 }}>\n                  {'Athanor'}\n                </ToggleButton>\n                <ToggleButton value='tatara' onClick={this.toggleRefineryType}>{'Tatara'}</ToggleButton>\n              </ToggleButtonGroup>\n              <Button\n                bsSize='small'\n                onClick={this.toggleEfficiency}\n                style={{ paddingLeft: 4, paddingRight: 4 }}\n                active={efficiency}\n              >\n                {effStr}\n              </Button>\n              <Button\n                bsSize='small'\n                onClick={this.toggleRuns}\n                style={{ paddingLeft: 4, paddingRight: 4 }}\n                active={hundredRuns}\n              >\n                {hundredRuns ? '100runs' : '1 run'}\n              </Button>\n            </Panel>\n          </div>\n          <div className='col-md-8 t-a_l col-last'>\n            <SheetItems\n            // <CompositeSheet\n              reactions={reactions}\n              prices={this.state.prices}\n              price_input_type='sell'\n              price_output_type='sell'\n              listType={listType}\n              refineryType={refineryType}\n              efficiency={efficiency}\n              filter={filterValue}\n              hundredRuns={hundredRuns}\n              includeFuel={false}\n            />\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default MoonSheet\n","import React, { Component } from 'react'\nimport MoonSheet from './components/MoonSheet'\n\nimport \"./styles/reset.css\"\nimport \"./styles/bootstrap.css\"\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport 'bootstrap/dist/css/bootstrap-theme.min.css'\nimport \"./styles/main.css\"\n\nimport './App.css'\n\n\nfunction SearchIcon(props) {\n  return (\n    <div\n      className=\"searchIcon\"\n      style={{ opacity: props.filterOpened ? 1 : 0.3 }}\n      onClick={props.handleClick}\n    >\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"23\" height=\"23\" viewBox=\"1225 1246 23 23\">\n        <path fill=\"white\" fillRule=\"evenodd\" d=\"M1242.388 1265.302a10.735 10.735 0 0 1-6.607 2.26c-5.954 0-10.781-4.826-10.781-10.78 0-5.955 4.827-10.782 10.781-10.782 5.955 0 10.782 4.827 10.782 10.781 0 2.49-.844 4.782-2.261 6.607.145.068.282.163.402.283l2.875 2.875a1.438 1.438 0 0 1-2.033 2.033l-2.875-2.875a1.435 1.435 0 0 1-.283-.402zm-6.607-.614a7.906 7.906 0 1 0 0-15.813 7.906 7.906 0 0 0 0 15.813z\"/>\n      </svg>\n    </div>\n  )\n}\n\n\nclass App extends Component {\n  state = {\n    filterOpened: true,\n  }\n\n  toggleFilter = () => {\n    this.setState({ filterOpened: !this.state.filterOpened })\n  }\n\n  render() {\n    const { filterOpened } = this.state\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <h1 className=\"App-title\">Composite Reactions Chart</h1>\n          <SearchIcon\n            filterOpened={filterOpened}\n            handleClick={this.toggleFilter}\n          />\n        </header>\n        <MoonSheet filterOpened={filterOpened} />\n      </div>\n    )\n  }\n}\n\nexport default App\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n// import registerServiceWorker from './registerServiceWorker';\nimport { unregister } from './registerServiceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// registerServiceWorker();\nunregister();\n"],"sourceRoot":""}